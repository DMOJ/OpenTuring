### Generated by Winemaker 0.8.3
###
### Invocation command line was
### /usr/bin/winemaker .


SRCDIR                = .
SUBDIRS               = src/jpeg-6b \
			src/libungif \
			tlib \
			vc_projects/Coder.vcproj_cmake/CMakeFiles \
			vc_projects/Compiler.vcproj_cmake/CMakeFiles \
			vc_projects/Editor.vcproj_cmake/CMakeFiles \
			vc_projects/Executor.vcproj_cmake/CMakeFiles \
			vc_projects/FileManager.vcproj_cmake/CMakeFiles \
			vc_projects/GIF.vcproj_cmake/CMakeFiles \
			vc_projects/Interpreter.vcproj_cmake/CMakeFiles \
			vc_projects/JPEG.vcproj_cmake/CMakeFiles \
			vc_projects/MIO.vcproj_cmake/CMakeFiles \
			vc_projects/TLib.vcproj_cmake/CMakeFiles \
			vc_projects/TLib_Override.vcproj_cmake/CMakeFiles \
			vc_projects/Turing.vcproj_cmake/CMakeFiles \
			vc_projects/Turing_License_DLL.vcproj_cmake/CMakeFiles \
			vc_projects/Turing_License_DLL___Win32_Debug
DLLS                  = lang.dll \
			sdl.dll \
			sdl_gfx.dll
LIBS                  =
EXES                  =



### Common settings

CEXTRA                = -mno-cygwin
CXXEXTRA              = -mno-cygwin
RCEXTRA               =
DEFINES               =
INCLUDE_PATH          =
DLL_PATH              =
DLL_IMPORTS           =
LIBRARY_PATH          =
LIBRARIES             =


### Extra source lists

EXTRA_C_SRCS          = src/alloc.c \
			src/coder.c \
			src/comperr.c \
			src/compile.c \
			src/dbgalloc.c \
			src/debug.c \
			src/edint.c \
			src/edrun.c \
			src/error.c \
			src/event.c \
			src/execute.c \
			src/expn.c \
			src/fileio.c \
			src/fileman.c \
			src/graphics.c \
			src/hashmap.c \
			src/heap.c \
			src/kernel.c \
			src/language.c \
			src/limits.c \
			src/lists.c \
			src/lookup.c \
			src/math.c \
			src/mdio.c \
			src/mdioconfig.c \
			src/mdiodir.c \
			src/mdiodlg.c \
			src/mdiodraw.c \
			src/mdiofile.c \
			src/mdiofont.c \
			src/mdiogui.c \
			src/mdiojoy.c \
			src/mdiomusic.c \
			src/mdionet.c \
			src/mdiopc.c \
			src/mdiopic.c \
			src/mdiopicgif.c \
			src/mdiopicjpeg.c \
			src/mdiorgb.c \
			src/mdiosprite.c \
			src/mdiosys.c \
			src/mdiotime.c \
			src/mdioutil.c \
			src/mdiowin.c \
			src/mdiowindlg.c \
			src/mdiowingraph.c \
			src/mdiowintext.c \
			src/mdiowintop.c \
			src/memory.c \
			src/mio.c \
			src/mioconfig.c \
			src/miocrypto.c \
			src/miodir.c \
			src/miodlg.c \
			src/miodraw.c \
			src/mioerror.c \
			src/miofile.c \
			src/miofont.c \
			src/mioglgraph.c \
			src/miogui.c \
			src/miohashmap.c \
			src/miojoy.c \
			src/miolexer.c \
			src/miomouse.c \
			src/miomusic.c \
			src/mionet.c \
			src/miopc.c \
			src/miopic.c \
			src/miorgb.c \
			src/miosprite.c \
			src/miosys.c \
			src/miotext.c \
			src/miotime.c \
			src/mioview.c \
			src/miowin.c \
			src/miowindlg.c \
			src/miowindow.c \
			src/miowingraph.c \
			src/miowintext.c \
			src/miowrapper.c \
			src/mt.c \
			src/oexecute.c \
			src/orun.c \
			src/paraoot.c \
			src/parser.c \
			src/predef.c \
			src/prescan.c \
			src/run.c \
			src/scanner.c \
			src/scope.c \
			src/sdlgraph.c \
			src/star.c \
			src/string.c \
			src/symbol.c \
			src/system.c \
			src/tlavfs.c \
			src/tlavrs.c \
			src/tleabt.c \
			src/tledh.c \
			src/tlequit.c \
			src/tletr.c \
			src/tprolog.c \
			src/typedecl.c \
			src/types.c \
			src/unitman.c \
			src/util.c \
			src/value.c
EXTRA_CXX_SRCS        =
EXTRA_RC_SRCS         = src/mio.rc \
			src/tprolog.rc

EXTRA_OBJS            = $(EXTRA_C_SRCS:.c=.o) \
			$(EXTRA_CXX_SRCS:.cpp=.o)



### lang.dll sources and settings

lang_dll_MODULE       = lang.dll
lang_dll_C_SRCS       =
lang_dll_CXX_SRCS     =
lang_dll_RC_SRCS      =
lang_dll_LDFLAGS      = -shared \
			$(lang_dll_MODULE:.dll=.spec) \
			-mno-cygwin
lang_dll_ARFLAGS      =
lang_dll_DLL_PATH     =
lang_dll_DLLS         = odbc32 \
			ole32 \
			oleaut32 \
			winspool \
			odbccp32
lang_dll_LIBRARY_PATH =
lang_dll_LIBRARIES    = uuid

lang_dll_OBJS         = $(lang_dll_C_SRCS:.c=.o) \
			$(lang_dll_CXX_SRCS:.cpp=.o) \
			$(lang_dll_RC_SRCS:.rc=.res)



### sdl.dll sources and settings

sdl_dll_MODULE        = sdl.dll
sdl_dll_C_SRCS        =
sdl_dll_CXX_SRCS      =
sdl_dll_RC_SRCS       =
sdl_dll_LDFLAGS       = -shared \
			$(sdl_dll_MODULE:.dll=.spec) \
			-mno-cygwin
sdl_dll_ARFLAGS       =
sdl_dll_DLL_PATH      =
sdl_dll_DLLS          = odbc32 \
			ole32 \
			oleaut32 \
			winspool \
			odbccp32
sdl_dll_LIBRARY_PATH  =
sdl_dll_LIBRARIES     = uuid

sdl_dll_OBJS          = $(sdl_dll_C_SRCS:.c=.o) \
			$(sdl_dll_CXX_SRCS:.cpp=.o) \
			$(sdl_dll_RC_SRCS:.rc=.res)



### sdl_gfx.dll sources and settings

sdl_gfx_dll_MODULE    = sdl_gfx.dll
sdl_gfx_dll_C_SRCS    =
sdl_gfx_dll_CXX_SRCS  =
sdl_gfx_dll_RC_SRCS   =
sdl_gfx_dll_LDFLAGS   = -shared \
			$(sdl_gfx_dll_MODULE:.dll=.spec) \
			-mno-cygwin
sdl_gfx_dll_ARFLAGS   =
sdl_gfx_dll_DLL_PATH  =
sdl_gfx_dll_DLLS      = odbc32 \
			ole32 \
			oleaut32 \
			winspool \
			odbccp32
sdl_gfx_dll_LIBRARY_PATH=
sdl_gfx_dll_LIBRARIES = uuid

sdl_gfx_dll_OBJS      = $(sdl_gfx_dll_C_SRCS:.c=.o) \
			$(sdl_gfx_dll_CXX_SRCS:.cpp=.o) \
			$(sdl_gfx_dll_RC_SRCS:.rc=.res)



### Global source lists

C_SRCS                = $(lang_dll_C_SRCS) \
			$(sdl_dll_C_SRCS) \
			$(sdl_gfx_dll_C_SRCS) \
			$(EXTRA_C_SRCS)
CXX_SRCS              = $(lang_dll_CXX_SRCS) \
			$(sdl_dll_CXX_SRCS) \
			$(sdl_gfx_dll_CXX_SRCS) \
			$(EXTRA_CXX_SRCS)
RC_SRCS               = $(lang_dll_RC_SRCS) \
			$(sdl_dll_RC_SRCS) \
			$(sdl_gfx_dll_RC_SRCS) \
			$(EXTRA_RC_SRCS)


### Tools

CC = winegcc
CXX = wineg++
RC = wrc
AR = ar


### Generic targets

all: $(SUBDIRS) $(DLLS:%=%.so) $(LIBS) $(EXES)

### Build rules

.PHONY: all clean dummy

$(SUBDIRS): dummy
	@cd $@ && $(MAKE)

# Implicit rules

.SUFFIXES: .cpp .cxx .rc .res
DEFINCL = $(INCLUDE_PATH) $(DEFINES) $(OPTIONS)

.c.o:
	$(CC) -c $(CFLAGS) $(CEXTRA) $(DEFINCL) -o $@ $<

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(CXXEXTRA) $(DEFINCL) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(CXXEXTRA) $(DEFINCL) -o $@ $<

.rc.res:
	$(RC) $(RCFLAGS) $(RCEXTRA) $(DEFINCL) -fo$@ $<

# Rules for cleaning

CLEAN_FILES     = y.tab.c y.tab.h lex.yy.c core *.orig *.rej \
                  \\\#*\\\# *~ *% .\\\#*

clean:: $(SUBDIRS:%=%/__clean__) $(EXTRASUBDIRS:%=%/__clean__)
	$(RM) $(CLEAN_FILES) $(RC_SRCS:.rc=.res) $(C_SRCS:.c=.o) $(CXX_SRCS:.cpp=.o)
	$(RM) $(DLLS:%=%.so) $(LIBS) $(EXES) $(EXES:%=%.so)

$(SUBDIRS:%=%/__clean__): dummy
	cd `dirname $@` && $(MAKE) clean

$(EXTRASUBDIRS:%=%/__clean__): dummy
	-cd `dirname $@` && $(RM) $(CLEAN_FILES)

### Target specific build rules
DEFLIB = $(LIBRARY_PATH) $(LIBRARIES) $(DLL_PATH) $(DLL_IMPORTS:%=-l%)

$(lang_dll_MODULE).so: $(lang_dll_OBJS) $(lang_dll_MODULE:.dll=.spec)
	$(CC) $(lang_dll_LDFLAGS) -o $@ $(lang_dll_OBJS) $(lang_dll_LIBRARY_PATH) $(lang_dll_DLL_PATH) $(DEFLIB) $(lang_dll_DLLS:%=-l%) $(lang_dll_LIBRARIES:%=-l%)


$(sdl_dll_MODULE).so: $(sdl_dll_OBJS) $(sdl_dll_MODULE:.dll=.spec)
	$(CC) $(sdl_dll_LDFLAGS) -o $@ $(sdl_dll_OBJS) $(sdl_dll_LIBRARY_PATH) $(sdl_dll_DLL_PATH) $(DEFLIB) $(sdl_dll_DLLS:%=-l%) $(sdl_dll_LIBRARIES:%=-l%)


$(sdl_gfx_dll_MODULE).so: $(sdl_gfx_dll_OBJS) $(sdl_gfx_dll_MODULE:.dll=.spec)
	$(CC) $(sdl_gfx_dll_LDFLAGS) -o $@ $(sdl_gfx_dll_OBJS) $(sdl_gfx_dll_LIBRARY_PATH) $(sdl_gfx_dll_DLL_PATH) $(DEFLIB) $(sdl_gfx_dll_DLLS:%=-l%) $(sdl_gfx_dll_LIBRARIES:%=-l%)


