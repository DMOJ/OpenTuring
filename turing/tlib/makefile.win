#
# 			Makefile
#
# Makefile for TLib under Windows
#
# The C and ASM files are taken from 
#       ~oot/tlib/win32/TL/checked 
# and 
#       ~oot/tlib/win32/checked
#

TL=	TL.o
TLA=	TLA.o TLA4AD.o TLA4CM.o TLA4DN.o TLA4DV.o TLA4ML.o TLA4MN.o TLA4MX.o \
	TLA8AD.o TLA8CD.o TLA8CL.o TLA8CM.o TLA8CR.o TLA8DN.o TLA8DV.o \
	TLA8FL.o TLA8GX.o TLA8LN.o TLA8MD.o TLA8ML.o TLA8MN.o TLA8MX.o \
	TLA8QR.o TLA8RD.o TLA8RE.o TLA8SD.o TLA8SG.o TLA8SR.o TLA8SX.o \
	TLA8T.o TLA8TD.o TLA8TR.o TLA8X.o TLA8XP.o TLAIMD.o TLAIMN.o \
	TLAIMX.o TLANMD.o TLAPII.o TLAPRI.o TLAPRR.o TLARNI.o TLARNR.o \
	TLARNZ.o TLARSC.o TLARSR.o TLARSZ.o TLARZ.o TLAV48.o TLAV84.o \
	TLAV8D.o TLAVD8.o TLAVES.o TLAVFS.o TLAVI4.o TLAVI8.o TLAVN4.o \
	TLAVN8.o TLAVS8.o TLAVSI.o TLAVSN.o
TLB=	TLB.o TLBALL.o TLBDAL.o TLBFRC.o TLBFRU.o TLBNWC.o TLBNWU.o \
	TLBUNI.o TLBUNR.o TLBUUN.o
TLC=	TLC.o TLCALL.o TLCCLR.o TLCCON.o TLCDIF.o TLCEQ.o TLCGEQ.o \
	TLCIN.o TLCINT.o TLCLEQ.o TLCNEQ.o TLCUN.o TLCXOR.o
TLE=	TLE.o TLEABT.o TLECR.o TLECRL.o TLECRS.o TLEDH.o TLEH.o TLEHE.o \
	TLEHX.o TLELF.o TLEQUIT.o
TLI=	TLI.o TLICL.o TLIEFR.o TLIEOF.o TLIFA.o TLIFS.o TLIGC.o TLIGCB.o \
	TLIGF.o TLIGI.o TLIGIB.o TLIGK.o TLIGN.o TLIGR.o TLIGS.o TLIGSS.o \
	TLIGSW.o TLIGT.o TLIOA.o TLIOF.o TLIOP.o TLIOS.o TLIPC.o TLIPE.o \
	TLIPF.o TLIPI.o TLIPK.o TLIPN.o TLIPR.o TLIPS.o TLIRE.o TLIRER.o \
	TLISF.o TLISK.o TLISKE.o TLISS.o TLISSI.o TLISSO.o TLISSS.o TLITL.o \
	TLIWR.o TLIWRR.o
TLM=	TLM.o TLMCDINI.o TLMCDSIG.o TLMCDWT.o TLMCEMP.o TLMCFIN.o TLMCLEN.o \
	TLMCPINI.o TLMCPSIG.o TLMCPWT.o TLMCRINI.o TLMCRSIG.o TLMCRWT.o \
	TLMCTINI.o TLMCTSIG.o TLMCTWT.o TLMDCTWT.o TLMDENT.o TLMDEXT.o \
	TLMDINI.o TLMGNEP.o TLMIPENT.o TLMIPEXT.o TLMIPINI.o TLMRENT.o \
	TLMREXT.o TLMRFIN.o TLMRINI.o TLMUDUMP.o 
TLS=	TLS.o TLSASN.o TLSBS.o TLSBSS.o TLSBSX.o TLSBX.o TLSBXS.o TLSBXX.o \
	TLSCAT.o TLSCSS.o TLSCSX.o TLSCTA.o TLSCXS.o TLSCXX.o TLSDEL.o \
	TLSIND.o TLSLEN.o TLSMCC.o TLSMCS.o TLSMSC.o TLSMSS.o TLSREC.o \
	TLSRES.o TLSRPT.o TLSVCS.o TLSVES.o TLSVFS.o TLSVIS.o TLSVNS.o \
	TLSVRS.o TLSVS8.o TLSVSI.o TLSVSN.o 
WIN=	TLAVRS.o TLETR.o TLIZ.o TLIZC.o TLK.o TLX.o TLdata.o main.o
LIBS=	$(TL) $(TLA) $(TLB) $(TLC) $(TLE) $(TLI) $(TLM) $(TLS) $(WIN)


#
# Constants
#

TPC_CC=cl /nologo /MTd /W3 /Zi /Od /YX /FD /GZ /c \
	/D "WIN32" /D "_DEBUG" /D "_CRTDBG_MAP_ALLOC" /D "_WINDOWS" \
	/D "_MBCS" /D _WIN32_IE=0x0300 /D "CHECKING" /I "include"


#
# Object files
#

.SUFFIXES:
.SUFFIXES:      .o .c .s

.c.o:
	$(TPC_CC) /Fo"$*.o" $<

.s.o:
	$(AS) /c /coff /Fo"$*.o" $<

tlib.obj:	$(LIBS)
	lib /out:$@ /subsystem:windows $(LIBS)
